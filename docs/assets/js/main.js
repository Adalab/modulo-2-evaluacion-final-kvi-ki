"use strict";const searchField=document.querySelector(".js-search"),searchButton=document.querySelector(".js-button"),resultsList=document.querySelector(".js-result");let moviesList=[];function getResult(){fetch("http://api.tvmaze.com/search/shows?q="+searchField.value).then(e=>e.json()).then(e=>{moviesList=e,paintMovies()})}function paintMovies(){const e=document.createElement("ul");for(let t=0;t<moviesList.length;t++){null===moviesList[t].show.image?moviesList[t].show.image="https://via.placeholder.com/210x295/ffffff/666666/?text=TV":moviesList[t].show.image=moviesList[t].show.image.medium;const s=document.createElement("li");s.innerHTML=`${moviesList[t].show.name}<img src="${moviesList[t].show.image}"/>`,e.appendChild(s),resultsList.appendChild(e),s.addEventListener("click",()=>paintFavourites(moviesList[t].show))}}searchButton.addEventListener("click",getResult);const favouriteList=document.querySelector(".js-favourites"),newUl=document.createElement("ul"),newUlTitle=document.createTextNode("Mis Series Favoritas:");newUl.appendChild(newUlTitle);let favs=[];const favsData=localStorage.getItem("favs");function addFavourite(e){const t=document.createElement("li");t.innerHTML=`${e.name}<img src="${e.image}"/>`,newUl.appendChild(t),t.classList.add("js-favourite"),favouriteList.appendChild(newUl)}function paintFavourites(e){addFavourite(e),favs.push(e),localStorage.setItem("favs",JSON.stringify(favs))}null!==favsData&&(favs=JSON.parse(favsData));for(let e=0;e<favs.length;e++)addFavourite(favs[e]);